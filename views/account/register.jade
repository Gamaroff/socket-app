extends ../layout

block header
    script(type='text/javascript', src='/js/viewmodels/account/registerViewModel.js')
    script(type='text/javascript')
        $(function() {
            ko.applyBindings(new my.RegisterViewModel());
        });

block content
    .container.inner_content

        form.well(name='RegistrationForm')
            fieldset

                label(for='name') First Name:
                input(type='text', placeholder='First Name', data-bind='validationOptions: { insertMessages: false }, value: firstName, valueUpdate: \'afterkeydown\', css: {\'error\': !firstName.isValid()}')
                span.label.label-important(data-bind='visible: !firstName.isValid()', style='margin-left: 10px;') required
                span(style='margin-left: 10px; color: red', data-bind='validationMessage: firstName')


                label(for='name') Last Name:
                input(type='text', placeholder='Last Name', data-bind='validationOptions: { insertMessages: false }, value: lastName, valueUpdate: \'afterkeydown\', css: {\'error\': !lastName.isValid()}')
                span.label.label-important(data-bind='visible: !lastName.isValid()', style='margin-left: 10px;') required
                span(style='margin-left: 10px; color: red', data-bind='validationMessage: lastName')

                label(for='email') Email:
                input(type='text', placeholder='email@email.com', data-bind='validationOptions: { insertMessages: false }, value: username, valueUpdate: \'afterkeydown\', css: {\'error\': !username.isValid()}')
                span.label.label-important(data-bind='visible: !username.isValid()', style='margin-left: 10px;') required
                span(style='margin-left: 10px; color: red', data-bind='validationMessage: username')

                label(for='password') Password:
                input(type='password', placeholder='password', data-bind='validationOptions: { insertMessages: false }, value: password, valueUpdate: \'afterkeydown\', css: {\'error\': !password.isValid()}')
                span.label.label-important(data-bind='visible: !password.isValid()', style='margin-left: 10px;') required
                span(style='margin-left: 10px; color: red', data-bind='validationMessage: password')

                label(for='confirm-password') Confirm Password:
                input(type='password', placeholder='confirm password', data-bind='validationOptions: { insertMessages: false }, value: confirmPassword, valueUpdate: \'afterkeydown\', css: {\'error\': !confirmPassword.isValid()}')
                span.label.label-important(data-bind='visible: !confirmPassword.isValid()', style='margin-left: 10px;') required
                span(style='margin-left: 10px; color: red', data-bind='validationMessage: confirmPassword')

            .alert.alert-error(data-bind='text: errorMessage, visible: errorMessage')


            button.btn.btn-success(data-bind="click: register, enable: isValid, visible: !isBusy()") Register
            button.btn.btn-success(data-bind="enable: !isBusy(), visible: isBusy") Processing ...

